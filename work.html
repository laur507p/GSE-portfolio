<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gry Strange Echwald</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://use.typekit.net/gjt1ewi.css">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/site.webmanifest">
    <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <div class="spacer"></div>
    <header>
        <div class="logo">
            <a href="index.html">G S E</a>
        </div>



        <div id="menuknap"><img class="menuknapicon" src="billeder/burgermenuicon.svg" alt="Burger menu icon"></div>
        <nav id="menu" class="hide">
            <ul id="menulist">
                <li><a href="about.html">ABOUT</a></li>
                <li><a href="work.html">WORK</a></li>
                <li><a href="contact.html">CONTACT</a></li>
            </ul>
        </nav>
    </header>

    <div class="top-navn">
        <p>Gry Strange Echwald</p>
    </div>

    <section class="section-wrapper" id="work-header">
        <div class="wrapper">
            <div class="col col-txt">
                <h1>WORK</h1>
            </div>
            <div class="col img-col">
                <img src="billeder/samplebillede1.png" alt="sample">
            </div>
        </div>
        <div class="arrow"><img src="billeder/arrow.svg" alt="arrow icon"></div>
    </section>

    <section id="work" class="section-wrapper">
        <h1 class="section-header">SELECTED CASES</h1>

        <section class="data-container"></section>

    </section>


    <footer>
        <p>&#169;GRYSTRANGEECHWALD2020</p>
    </footer>

    <template>
        <div class="grid-item">
            <img src="" alt="">
            <p class="navn"></p>
            <a class="knap" href="">View project</a>

        </div>
    </template>


    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", hentData);


        let work = [];
        const link = "http://lauraragnars.dk/GSE-wordpress/wordpress/wp-json/wp/v2/work?per_page=100";
        const container = document.querySelector(".data-container");
        const template = document.querySelector("template");

        async function hentData() {
            const response = await fetch(link);
            work = await response.json();
            visWork();

        }

        function visWork() {
            container.innerHTML = "";


            work.forEach(elm => {

                let klon = template.cloneNode(true).content;
                klon.querySelector(".navn").textContent = elm.titel;

                klon.querySelector("img").src = elm.billede1.guid;

                container.appendChild(klon);

                container.lastElementChild.addEventListener("click", () => {
                    location.href = "work-single.html?id=" + elm.id;
                });

            })

        };

    </script>
</body>

</html>
